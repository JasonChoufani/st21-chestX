<div class="row border p-2" id="upload-container">
  <div class="col-8">
    <label for="file-upload" class="btn btn-default p-0">
      <input
        #reset
        type="file"
        name="x-ray-image"
        id="file-upload"
        accept="image/*"
        style="display: none"
        (change)="selectFile($event)"
      />
      <!-- customizing the file upload input field -->
      <button
        style="display: block; width: 120px; height: 30px"
        onclick="document.getElementById('file-upload').click()"
      >
        upload
      </button>
    </label>
  </div>
  <div class="col-4 buttons">
    <button
      class="btn btn-success btn-sm"
      [disabled]="!selectedFiles"
      (click)="upload()"
    >
      scan
    </button>
    <button
      id="reset"
      class="btn btn-success btn-sm"
      [disabled]="!selectedFiles && !resetBtn"
      (click)="inputReset(reset)"
    >
      reset
    </button>
  </div>
</div>
<!-- <div *ngIf='currentFile' class="progress my-3">
  <div class="progress-bar progress-bar-info progress-bar-stripped"
  role="progressbar"
  attr.aria-valuenow = '{{progress}}'
  aria-valuemin = "0"
  aria-valuemax = '100'
  [ngStyle]="{width: progress + '%'}">

  </div>
</div> -->
<!-- <div *ngIf='message' class="upload-error-msg" role="alert">{{message}}</div> -->
<div *ngIf="covidResult" class="upload-error-msg" role="alert">
  <div>Result: {{ covidResult }}</div>
  <div>Confidence Level: {{ confidenceLevel }}%</div>
</div>
<!-- <div *ngIf='confidenceLevel' class="upload-error-msg" role="alert">confidenceLevel: {{confidenceLevel}}</div> -->
<div class="image-preview" *ngIf="pickedImage !== '' && pickedImage">
  <img [src]="pickedImage" alt="" />
</div>

<button>
  <a routerLink="/patient-credentials">New patient</a>
</button>

<div class="container fileUploadWrapper border">
  <form action="" [formGroup]="form">
    <div class="col-md-12">
      <div
        class="fileupload"
        appDragDropFileUpload
        (click)="fileField.click()"
        (fileDropped)="upload()"
      >
        <span class="ddinfo">Choose a file or drag here</span>
        <input
          type="file"
          name="x-ray-image"
          id="file-upload"
          accept="image/*"
          #fileField
          (change)="upload()"
          hidden
          multiple
        />
      </div>
    </div>
  </form>
</div>
